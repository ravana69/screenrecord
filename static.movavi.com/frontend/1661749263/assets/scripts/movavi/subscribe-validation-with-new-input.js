!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=67)}({1:function(t,e,i){"use strict";e.a={responsive_breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200},email_regex:/^[_a-z0-9]+[-a-z0-9_]*(\.[-a-z0-9_]+)*@([a-z0-9][-a-z0-9]*(\.[-a-z0-9]+)*\.([a-z]+))$/i,phone_regex:/^[0-9-()+\s]+$/,SSO_URI:"https://sso-auth.movavi.id",SSO_URI_STAGE:"https://sso-auth.staging.movavi.id",SSO_AUTH_URI_PATH:"/auth/initialize",ID_API:"https://api.movavi.id/api/v1",ID_API_STAGE:"https://api.staging.movavi.id/api/v1",ID_AUTH_PATH:"/auth/authorize",ID_ORDERS_PATH:"/orders/index"}},67:function(t,e,i){t.exports=i(68)},68:function(t,e,i){"use strict";i.r(e);var n=i(1);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=e,this._submitBtn=e.querySelectorAll("#mjs-submit-button"),this._action=this._form.getAttribute("action"),this._checkBox=e.querySelector("#mjs-checkboxPrivacy"),this._emailInput=e.querySelector("#mjs-inputEmail"),this._emailError=e.querySelector("#mjs-response-error"),this._successBlock=e.querySelector("#mjs-response-success"),this._fetchData=this._fetchData.bind(this),this._toggleShowError=this._toggleShowError.bind(this)}var e,i,r;return e=t,(i=[{key:"_validateEmail",value:function(t){return new RegExp(n.a.email_regex).test(String(t))}},{key:"_isEmailValid",value:function(){var t=this._emailInput.value;return!(!this._validateEmail(t)||null===t||""===t)}},{key:"_toggleShowError",value:function(t,e){t?(e.classList.remove("is-invalid"),e.classList.add("is-valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid"))}},{key:"_onChange",value:function(){var t=this;this._emailInput.addEventListener("change",(function(){t._toggleShowError(t._isEmailValid(),t._emailInput)}))}},{key:"_checkboxStatus",value:function(){return this._checkBox.checked}},{key:"_clickCheckbox",value:function(){var t=this;this._checkBox.addEventListener("change",(function(){t._toggleShowError(t._checkboxStatus(),t._checkBox)}))}},{key:"_fetchData",value:function(){var t=this,e="&host=".concat(window.location.hostname),i="&url=".concat(window.location.pathname),n="&email=".concat(this._emailInput.value),o="//".concat(this._action).concat(n).concat(e).concat(i.length>1?i:"");this._isEmailValid()&&this._checkboxStatus()&&fetch(o).then((function(t){return t.text()})).then((function(e){var i;i=e.indexOf("?")>-1&&e.indexOf("(")>-1&&e.indexOf(")")>-1?e.slice(2,e.length-1):e.indexOf("(")>-1&&e.indexOf(")")>-1?e.slice(1,e.length-1):e,"ok"===JSON.parse(i).message?(t._successBlock.classList.add("show"),t._form.classList.add("hide"),t._emailError.classList.remove("show")):(t._emailError.classList.add("show"),t._successBlock.classList.remove("show"))}))}},{key:"_formSubmit",value:function(){var t=this;this._form.addEventListener("submit",(function(t){t.preventDefault()})),this._submitBtn.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),t._toggleShowError(t._isEmailValid(),t._emailInput),t._toggleShowError(t._checkboxStatus(),t._checkBox),t._fetchData()}))}))}},{key:"init",value:function(){this._emailInput&&this._onChange(),this._checkBox&&this._clickCheckbox(),this._submitBtn&&this._formSubmit()}}])&&o(e.prototype,i),r&&o(e,r),t}();window.addEventListener("load",(function(){var t=document.querySelectorAll(".mjs-form");if(Array.isArray(t)||t.length>0)for(var e=0;e<t.length;e++)new r(t[e]).init()}))}});